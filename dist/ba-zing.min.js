/*! Ba-zing! v0.1.0 | Apache License, Version 2.0 | https://github.com/mhulse/ba-zing */!function(a,b,c){"use strict";var d,e,f,g,h=null,i={id:"map",maps:{credentials:null,enableClickableLogo:!1,enableSearchLogo:!1,showDashboard:!0,showMapTypeSelector:!1,showScalebar:!1,disablePanning:!0,disableZooming:!0,center:new Microsoft.Maps.Location(44.0455,-123.02376),mapTypeId:Microsoft.Maps.MapTypeId.road,zoom:7}};a.init=function(a){var b;return a=o(a)?a:{},b=n(i,a),console.log(b),h=new Microsoft.Maps.Map(c.getElementById(b.id),b.maps)},a.directions=function(a){Object.keys(a).length?(g=a,d?m():Microsoft.Maps.loadModule("Microsoft.Maps.Directions",{callback:m})):console.alert("You must provide an options object.")};var j=function(){var a;d||(d=new Microsoft.Maps.Directions.DirectionsManager(h),a="Directions Module loaded\n",a+="Directions Manager loaded"),console.log(a),d.resetDirections(),e=Microsoft.Maps.Events.addHandler(d,"directionsError",function(a){console.log(a.message)}),f=Microsoft.Maps.Events.addHandler(d,"directionsUpdated",function(){console.log("Directions updated")})},k=function(a){var b={};return"string"==typeof a?b.address=a:(console.log(a.lat,a.lon),a.address&&(b.address=a.address),a.lat&&a.lon&&(b.location=new Microsoft.Maps.Location(a.lat,a.lon))),b},l=function(a){return new Microsoft.Maps.Directions.Waypoint(k(a))},m=function(){var a,b;d||j(),d.resetDirections(),d.setRequestOptions({routeMode:Microsoft.Maps.Directions.RouteMode.driving,routeDraggable:!1}),a=l(g.from),d.addWaypoint(a),b=l(g.to),d.addWaypoint(b),d.setRenderOptions({itineraryContainer:c.getElementById("directions"),waypointPushpinOptions:{visible:!1},viapointPushpinOptions:{}}),console.log("Calculating directions..."),d.calculateDirections()},n=function(a,b){var c=Array.isArray(b),d=c&&[]||{};return c?(a=a||[],d=d.concat(a),b.forEach(function(b,c){"undefined"==typeof d[c]?d[c]=b:"object"==typeof b?d[c]=n(a[c],b):-1===a.indexOf(b)&&d.push(b)})):(a&&"object"==typeof a&&Object.keys(a).forEach(function(b){d[b]=a[b]}),Object.keys(b).forEach(function(c){d[c]="object"==typeof b[c]&&b[c]&&a[c]?n(a[c],b[c]):b[c]})),d},o=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a}}(window.MAP=window.MAP||{},window,document,void 0);